<!DOCTYPE html>
<html>
<head>
    <title>example 1  - fooController </title>
	<meta charset="utf-8" />
</head>
<body>
<!-- vendor - Team XSockets.NET http://xsockets.net -->
<script src="XSockets.latest.js"></script>
<script>

    var doc = document, ws, foo;

    var say = function(what) {
        foo.invoke("say", { what: what || "hello world callee" });
    };

    var all = function(what) {
        foo.invoke("all", { what: what || "hello world to all!" });
    };

    var sayto = function(what) {
        foo.invoke("sayto", { what: what || "hello world to some..." });
    };

    var setAge = function(age) {
        foo.setProperty("age", age || 12);
    }

    doc.addEventListener("DOMContentLoaded", function() {

        ws = new XSockets.WebSocket("ws://localhost:1337", ["foo"], {
            foo: "bar"
        });
        foo = ws.controller("foo");

        foo.onopen = function(ci) {
            console.log("foo controller open", ci);
        };

        foo.on("say", function(message) {
            console.log("say - ", message);
        });

        foo.on("all", function(message) {
            console.log("all -", message);
        });

    });
</script>
</body>
</html>
